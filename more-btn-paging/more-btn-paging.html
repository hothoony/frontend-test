<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë¦¬ìŠ¤íŠ¸ í˜ì´ì§€ë„¤ì´ì…˜</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }

        .container {
            background: white;
            border-radius: 12px;
            padding: 30px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        h1 {
            color: #333;
            text-align: center;
            margin-bottom: 30px;
            font-size: 24px;
        }

        .list-container {
            margin-bottom: 20px;
        }

        .list-item {
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 8px;
            padding: 15px 20px;
            margin-bottom: 10px;
            transition: all 0.3s ease;
            opacity: 0;
            transform: translateY(20px);
            animation: fadeInUp 0.5s ease forwards;
        }

        .list-item:hover {
            background: #e9ecef;
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }

        .item-title {
            font-weight: 600;
            color: #495057;
            font-size: 16px;
            margin-bottom: 5px;
        }

        .item-description {
            color: #6c757d;
            font-size: 14px;
            line-height: 1.4;
        }

        .load-more-btn {
            display: block;
            width: 200px;
            margin: 20px auto;
            padding: 12px 24px;
            background: linear-gradient(45deg, #007bff, #0056b3);
            color: white;
            border: none;
            border-radius: 25px;
            font-size: 16px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 2px 4px rgba(0, 123, 255, 0.3);
        }

        .load-more-btn:hover {
            background: linear-gradient(45deg, #0056b3, #003d82);
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0, 123, 255, 0.4);
        }

        .load-more-btn:active {
            transform: translateY(0);
        }

        .hidden {
            display: none !important;
        }

        .loading-indicator {
            text-align: center;
            color: #6c757d;
            font-style: italic;
            margin: 20px 0;
        }

        .stats {
            text-align: center;
            color: #6c757d;
            font-size: 14px;
            margin-bottom: 20px;
        }

        @keyframes fadeInUp {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @media (max-width: 600px) {
            .container {
                padding: 20px;
                margin: 10px;
            }
            
            .list-item {
                padding: 12px 15px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ“‹ ì•„ì´í…œ ë¦¬ìŠ¤íŠ¸</h1>
        
        <div class="stats">
            <span id="displayedCount">0</span> / <span id="totalCount">0</span> ê°œì˜ ì•„ì´í…œ
        </div>
        
        <div id="listContainer" class="list-container">
            <!-- ë™ì ìœ¼ë¡œ ìƒì„±ë˜ëŠ” ë¦¬ìŠ¤íŠ¸ ì•„ì´í…œë“¤ -->
        </div>
        
        <div id="loadingIndicator" class="loading-indicator hidden">
            ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...
        </div>
        
        <button id="loadMoreBtn" class="load-more-btn hidden">
            ë”ë³´ê¸° â¬‡ï¸
        </button>
    </div>

    <script>
        class ListPagination {
            constructor() {
                this.allItems = []; // ì „ì²´ ë°ì´í„°
                this.displayedItems = []; // í˜„ì¬ í™”ë©´ì— í‘œì‹œëœ ë°ì´í„°
                this.itemsPerPage = 5; // í•œ ë²ˆì— ë³´ì—¬ì¤„ ì•„ì´í…œ ìˆ˜
                this.currentPage = 0; // í˜„ì¬ í˜ì´ì§€ (0ë¶€í„° ì‹œì‘)
                
                // DOM ìš”ì†Œë“¤
                this.listContainer = document.getElementById('listContainer');
                this.loadMoreBtn = document.getElementById('loadMoreBtn');
                this.loadingIndicator = document.getElementById('loadingIndicator');
                this.displayedCountEl = document.getElementById('displayedCount');
                this.totalCountEl = document.getElementById('totalCount');
                
                this.init();
            }
            
            async init() {
                // ë”ë³´ê¸° ë²„íŠ¼ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ
                this.loadMoreBtn.addEventListener('click', () => {
                    this.loadMoreItems();
                });
                
                // ë°ì´í„° fetch ë° ì´ˆê¸° ë Œë”ë§
                await this.fetchData();
                this.renderInitialItems();
            }
            
            // APIì—ì„œ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ëŠ” í•¨ìˆ˜ (ì‹¤ì œë¡œëŠ” fetchë¥¼ ì‚¬ìš©)
            async fetchData() {
                // ë¡œë”© í‘œì‹œ
                this.showLoading();
                
                try {
                    // ì‹¤ì œ API í˜¸ì¶œì„ ì‹œë®¬ë ˆì´ì…˜ (13ê°œ ì•„ì´í…œ)
                    await this.simulateApiDelay();
                    
                    this.allItems = [
                        { id: 1, title: "ì²« ë²ˆì§¸ ì•„ì´í…œ", description: "ì´ê²ƒì€ ì²« ë²ˆì§¸ ì•„ì´í…œì˜ ìƒì„¸ ì„¤ëª…ì…ë‹ˆë‹¤. ì¤‘ìš”í•œ ì •ë³´ê°€ í¬í•¨ë˜ì–´ ìˆìŠµë‹ˆë‹¤." },
                        { id: 2, title: "ë‘ ë²ˆì§¸ ì•„ì´í…œ", description: "ë‘ ë²ˆì§¸ ì•„ì´í…œì— ëŒ€í•œ ì„¤ëª…ìœ¼ë¡œ, ë‹¤ì–‘í•œ ê¸°ëŠ¥ì„ ì œê³µí•©ë‹ˆë‹¤." },
                        { id: 3, title: "ì„¸ ë²ˆì§¸ ì•„ì´í…œ", description: "ì„¸ ë²ˆì§¸ ì•„ì´í…œì€ íŠ¹ë³„í•œ ì†ì„±ì„ ê°€ì§€ê³  ìˆìœ¼ë©° ì‚¬ìš©ìì—ê²Œ ìœ ìš©í•©ë‹ˆë‹¤." },
                        { id: 4, title: "ë„¤ ë²ˆì§¸ ì•„ì´í…œ", description: "ë„¤ ë²ˆì§¸ ì•„ì´í…œì˜ ìƒì„¸í•œ ì •ë³´ì™€ ì‚¬ìš© ë°©ë²•ì— ëŒ€í•œ ì•ˆë‚´ì…ë‹ˆë‹¤." },
                        { id: 5, title: "ë‹¤ì„¯ ë²ˆì§¸ ì•„ì´í…œ", description: "ë‹¤ì„¯ ë²ˆì§¸ ì•„ì´í…œì€ ê³ ê¸‰ ê¸°ëŠ¥ì„ ì œê³µí•˜ë©° ì „ë¬¸ê°€ìš©ì…ë‹ˆë‹¤." },
                        { id: 6, title: "ì—¬ì„¯ ë²ˆì§¸ ì•„ì´í…œ", description: "ì—¬ì„¯ ë²ˆì§¸ ì•„ì´í…œì— ëŒ€í•œ ìì„¸í•œ ì„¤ëª…ê³¼ í™œìš© ë°©ì•ˆì…ë‹ˆë‹¤." },
                        { id: 7, title: "ì¼ê³± ë²ˆì§¸ ì•„ì´í…œ", description: "ì¼ê³± ë²ˆì§¸ ì•„ì´í…œì˜ íŠ¹ì§•ê³¼ ì¥ì ì— ëŒ€í•œ ìƒì„¸ ì •ë³´ì…ë‹ˆë‹¤." },
                        { id: 8, title: "ì—¬ëŸ ë²ˆì§¸ ì•„ì´í…œ", description: "ì—¬ëŸ ë²ˆì§¸ ì•„ì´í…œì€ í˜ì‹ ì ì¸ ê¸°ìˆ ì„ ì ìš©í•œ ì œí’ˆì…ë‹ˆë‹¤." },
                        { id: 9, title: "ì•„í™‰ ë²ˆì§¸ ì•„ì´í…œ", description: "ì•„í™‰ ë²ˆì§¸ ì•„ì´í…œì˜ ë…íŠ¹í•œ íŠ¹ì„±ê³¼ ì‚¬ìš© ì‚¬ë¡€ì…ë‹ˆë‹¤." },
                        { id: 10, title: "ì—´ ë²ˆì§¸ ì•„ì´í…œ", description: "ì—´ ë²ˆì§¸ ì•„ì´í…œì— ëŒ€í•œ í¬ê´„ì ì¸ ì •ë³´ì™€ ê°€ì´ë“œë¼ì¸ì…ë‹ˆë‹¤." },
                        { id: 11, title: "ì—´í•œ ë²ˆì§¸ ì•„ì´í…œ", description: "ì—´í•œ ë²ˆì§¸ ì•„ì´í…œì˜ ê³ ìœ í•œ ê¸°ëŠ¥ê³¼ ì„±ëŠ¥ì— ëŒ€í•œ ì„¤ëª…ì…ë‹ˆë‹¤." },
                        { id: 12, title: "ì—´ë‘ ë²ˆì§¸ ì•„ì´í…œ", description: "ì—´ë‘ ë²ˆì§¸ ì•„ì´í…œì€ ìµœì‹  ê¸°ìˆ ì´ ì ìš©ëœ í˜ì‹ ì ì¸ ì†”ë£¨ì…˜ì…ë‹ˆë‹¤." },
                        { id: 13, title: "ì—´ì„¸ ë²ˆì§¸ ì•„ì´í…œ", description: "ë§ˆì§€ë§‰ ì•„ì´í…œìœ¼ë¡œ, ëª¨ë“  ê¸°ëŠ¥ì„ ì¢…í•©í•œ ì™„ì„±í˜• ì œí’ˆì…ë‹ˆë‹¤." }
                    ];
                    
                    // ì „ì²´ ê°œìˆ˜ ì—…ë°ì´íŠ¸
                    this.totalCountEl.textContent = this.allItems.length;
                    
                } catch (error) {
                    console.error('ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ëŠ”ë° ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤:', error);
                    this.showError();
                } finally {
                    this.hideLoading();
                }
            }
            
            // API ì§€ì—° ì‹œë®¬ë ˆì´ì…˜
            simulateApiDelay() {
                return new Promise(resolve => {
                    setTimeout(resolve, 1000); // 1ì´ˆ ì§€ì—°
                });
            }
            
            // ì´ˆê¸° ì•„ì´í…œë“¤ ë Œë”ë§ (ì²˜ìŒ 5ê°œ)
            renderInitialItems() {
                if (this.allItems.length === 0) return;
                
                // ì²˜ìŒ 5ê°œ ì•„ì´í…œ ì¶”ì¶œ
                const initialItems = this.allItems.slice(0, this.itemsPerPage);
                this.displayedItems = [...initialItems];
                this.currentPage = 1;
                
                // í™”ë©´ì— ë Œë”ë§
                this.renderItems(initialItems);
                this.updateStats();
                
                // ë”ë³´ê¸° ë²„íŠ¼ í‘œì‹œ ì—¬ë¶€ ê²°ì •
                if (this.allItems.length > this.itemsPerPage) {
                    this.loadMoreBtn.classList.remove('hidden');
                }
            }
            
            // ë”ë³´ê¸° ë²„íŠ¼ í´ë¦­ ì‹œ ì¶”ê°€ ì•„ì´í…œ ë¡œë“œ
            loadMoreItems() {
                const startIndex = this.currentPage * this.itemsPerPage;
                const endIndex = Math.min(startIndex + this.itemsPerPage, this.allItems.length);
                const newItems = this.allItems.slice(startIndex, endIndex);
                
                if (newItems.length > 0) {
                    // ìƒˆ ì•„ì´í…œë“¤ì„ í‘œì‹œëœ ì•„ì´í…œë“¤ì— ì¶”ê°€
                    this.displayedItems = [...this.displayedItems, ...newItems];
                    this.currentPage++;
                    
                    // ìƒˆ ì•„ì´í…œë“¤ ë Œë”ë§
                    this.renderItems(newItems, true);
                    this.updateStats();
                    
                    // ëª¨ë“  ì•„ì´í…œì´ í‘œì‹œë˜ì—ˆìœ¼ë©´ ë”ë³´ê¸° ë²„íŠ¼ ìˆ¨ê¸°ê¸°
                    if (this.displayedItems.length >= this.allItems.length) {
                        this.loadMoreBtn.classList.add('hidden');
                    }
                }
            }
            
            // ì•„ì´í…œë“¤ì„ í™”ë©´ì— ë Œë”ë§
            renderItems(items, isAppend = false) {
                if (!isAppend) {
                    this.listContainer.innerHTML = '';
                }
                
                items.forEach((item, index) => {
                    const itemElement = this.createItemElement(item, index);
                    this.listContainer.appendChild(itemElement);
                });
            }
            
            // ê°œë³„ ì•„ì´í…œ ìš”ì†Œ ìƒì„±
            createItemElement(item, index) {
                const itemDiv = document.createElement('div');
                itemDiv.className = 'list-item';
                itemDiv.style.animationDelay = `${index * 0.1}s`;
                
                itemDiv.innerHTML = `
                    <div class="item-title">${item.title}</div>
                    <div class="item-description">${item.description}</div>
                `;
                
                return itemDiv;
            }
            
            // í†µê³„ ì •ë³´ ì—…ë°ì´íŠ¸
            updateStats() {
                this.displayedCountEl.textContent = this.displayedItems.length;
            }
            
            // ë¡œë”© í‘œì‹œ
            showLoading() {
                this.loadingIndicator.classList.remove('hidden');
            }
            
            // ë¡œë”© ìˆ¨ê¸°ê¸°
            hideLoading() {
                this.loadingIndicator.classList.add('hidden');
            }
            
            // ì—ëŸ¬ í‘œì‹œ
            showError() {
                this.listContainer.innerHTML = `
                    <div style="text-align: center; color: #dc3545; padding: 20px;">
                        âŒ ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ”ë° ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.
                    </div>
                `;
            }
        }
        
        // í˜ì´ì§€ ë¡œë“œ ì‹œ ì´ˆê¸°í™”
        document.addEventListener('DOMContentLoaded', () => {
            new ListPagination();
        });
    </script>
</body>
</html>