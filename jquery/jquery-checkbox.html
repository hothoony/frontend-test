<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>jquery-checkbox</title>

    <script src="https://code.jquery.com/jquery-3.6.0.js"></script>
    <!-- <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script> -->

    <script>
        $(document).ready(function() {

            $.toggleCheckbox = function(className) {
                let name = className.split(" ")[0];
                let value = className.split(" ")[1];
                let checkbox = $("input:checkbox[name=" + name + "][value=" + value + "]");
                let isChecked = $(checkbox).is(':checked');
                $(checkbox).prop('checked', !isChecked);
            }

            $.toggleCheckboxAll = function(checkboxName) {
                let allChecked = true;
                for (checkbox of $("input:checkbox[name=" + checkboxName + "]")) {
                    if ($(checkbox).is(":checked") == false) {
                        allChecked = false;
                        break;
                    }
                }
                for (checkbox of $("input:checkbox[name=" + checkboxName + "]")) {
                    $(checkbox).prop("checked", !allChecked);
                }
            }

        });
    </script>

    <script>
        $(document).ready(function() {

            $("button.ostype.all").click(function() {
                // console.log($(this));
                // console.log(this.className);
                $.toggleCheckboxAll("ostype");
            });

            $("button.ostype.mac").click(function() {
                $.toggleCheckbox(this.className);
            });
            $("button.ostype.linux").click(function() {
                $.toggleCheckbox(this.className);
            });
            $("button.ostype.windows").click(function() {
                $.toggleCheckbox(this.className);
            });
        });
    </script>

    <script>
        $(document).ready(function() {

            $("button.agree.all").click(function() {
                // console.log($(this));
                // console.log(this.className);
                $.toggleCheckboxAll("agree");
            });

            $("button.agree.sms").click(function() {
                $.toggleCheckbox(this.className);
            });
            $("button.agree.mobile").click(function() {
                $.toggleCheckbox(this.className);
            });
            $("button.agree.email").click(function() {
                $.toggleCheckbox(this.className);
            });
        });
    </script>

</head>
<body>
    
    <form method="post">

        <fieldset>
            <legend>OS Type</legend>
            <input type="checkbox" name="ostype" value="mac" id="chk11"><label for="chk11">mac</label>
            <input type="checkbox" name="ostype" value="linux" id="chk12"><label for="chk12">linux</label>
            <input type="checkbox" name="ostype" value="windows" id="chk13"><label for="chk13">windows</label><br>
        </fieldset>

        <fieldset>
            <legend>Agree</legend>
            <input type="checkbox" name="agree" value="sms" id="chk21"><label for="chk21">sms</label>
            <input type="checkbox" name="agree" value="mobile" id="chk22"><label for="chk22">mobile</label>
            <input type="checkbox" name="agree" value="email" id="chk23"><label for="chk23">email</label><br>
        </fieldset>

        <br>
        <div>
            <div>OS Type 선택/해제</div>
            <button type="button" class="ostype all">전체</button>
            <button type="button" class="ostype mac">mac</button>
            <button type="button" class="ostype linux">linux</button>
            <button type="button" class="ostype windows">windows</button>
        </div>

        <br>
        <div>
            <div>Agree 선택/해제</div>
            <button type="button" class="agree all">전체</button>
            <button type="button" class="agree sms">sms</button>
            <button type="button" class="agree mobile">mobile</button>
            <button type="button" class="agree email">email</button>
        </div>

        <br>
        <input type="submit" value="submit">
        <input type="reset" value="reset">

    </form>

</body>
</html>
